---
sidebar_position: 4
---
import CodeBlock from '@theme/CodeBlock';
import InlineSchemaDisplay from '@site/src/components/InlineSchemaDisplay';
import WallSchema from "@site/static/schemas/wallSchema.json";
import generateResolverOptions from "@site/src/components/shared-lib/generateResolverOptions.tsx";
import JSONSchemaViewer from "@theme/JSONSchemaViewer";

# Walls

Each room has four walls that can be navigated in the game using the left/right arrow keys to switch from one wall to another. Walls serve as the primary canvas for placing devices, doors, and other interactive elements within the smart home environment.

## JSON Schema

<JSONSchemaViewer schema={ WallSchema } resolverOptions={generateResolverOptions({"basePath": "/schemas"})} />

<details>
    <summary>JSON Schema Code</summary>

    <InlineSchemaDisplay 
    schema={WallSchema} 
    resolverOptions={generateResolverOptions({"basePath": "/schemas"})} 
    title="Wall Schema"
    />
</details>

## Wall Components

Each wall consists of several key components that define its appearance and functionality:

### Required Properties

- **`image`**: Path to the wall's background image asset

### Optional Properties

- **`default`**: Boolean indicating if this wall should be shown when entering the room
- **`devices`**: Array of devices placed on this wall
- **`doors`**: Array of doors for navigation between rooms

## Wall Images

Wall images serve as the background for each wall and provide the visual context for the smart home environment.

### Image Requirements

- **Supported formats**: PNG, JPG, WebP
- **Required dimensions**: 1024 × 576 pixels
- **Aspect ratio**: 16:9 (standard game resolution)

:::warning Image Size Requirements
Wall images must be exactly 1024 × 576 pixels. Mismatched sizes may cause visual distortion or rendering issues. Always resize images to these exact dimensions before use.
:::

### Example

```json
{
    "image": "assets/images/kitchen/north_wall.jpg",
    "default": false
}
```

## Wall Navigation Order

The order of walls in the room array determines the navigation sequence when players use arrow keys to move between walls.

### Navigation Logic

For an array of four walls:

```json
[
    {
        "image": "assets/images/kitchen/first_wall.jpg",
        "devices": []
    },
    {
        "image": "assets/images/kitchen/second_wall.jpg", 
        "devices": []
    },
    {
        "image": "assets/images/kitchen/third_wall.jpg",
        "devices": []
    },
    {
        "image": "assets/images/kitchen/fourth_wall.jpg",
        "devices": []
    }
]
```

**Right Arrow Navigation:**
first_wall → second_wall → third_wall → fourth_wall → (loops back to first_wall)

**Left Arrow Navigation:**
first_wall → fourth_wall → third_wall → second_wall → (loops back to first_wall)

:::tip Wall Ordering
Consider the logical flow of room navigation when ordering walls. Typically, walls should be arranged in a clockwise or counter-clockwise pattern that matches the physical layout of the room.
:::

## Default Wall Configuration

When players enter a room, one wall should be designated as the default starting view. This is controlled by the `default` property.

### Setting Default Wall

```json
[
    {
        "image": "assets/images/kitchen/first_wall.jpg",
        "default": false
    },
    {
        "image": "assets/images/kitchen/second_wall.jpg",
        "default": true
    },
    {
        "image": "assets/images/kitchen/third_wall.jpg",
        "default": false
    },
    {
        "image": "assets/images/kitchen/fourth_wall.jpg",
        "default": false
    }
]
```

In this example, `second_wall.jpg` will be displayed when the player first enters the room.

### Default Property Behavior

- **Explicit `false`**: Optional - walls default to `false` if not specified
- **Only one default**: Only one wall per room should have `default: true`
- **Fallback behavior**: If no wall is marked as default, the first wall in the array is used

:::info Default Wall Selection
Choose the default wall strategically:
- Select walls with important devices or task-relevant elements
- Consider the natural entry point or most commonly used area
- Ensure the default wall provides good initial orientation for participants
:::

## Devices on Walls

Walls can contain multiple devices that participants can interact with during gameplay.

### Device Placement

```json
{
    "image": "assets/images/shared_room/wall1.webp",
    "default": true,
    "devices": [
        {
            "name": "Deep Fryer",
            "id": "deep_fryer",
            "image": "assets/images/shared_room/devices/deep_fryer.webp",
            "position": {
                "x": 657,
                "y": 285,
                "scale": 1,
                "origin": 1
            },
            "interactions": [
                {
                    "InteractionType": "Boolean_Action",
                    "name": "Power",
                    "inputData": {
                        "valueType": ["PrimitiveType", "Boolean"],
                        "unitOfMeasure": null,
                        "type": {
                            "True": "On",
                            "False": "off"
                        }
                    },
                    "currentState": {
                        "visible": null,
                        "value": false
                    }
                }
            ],
            "visualState": [
                {
                    "default": true,
                    "image": "assets/images/shared_room/devices/wall1_deepfryer.webp"
                }
            ]
        },
        {
            "name": "Mixer",
            "id": "mixer",
            "image": "assets/images/shared_room/devices/wall1_mixer.png",
            "position": {
                "x": 367,
                "y": 280,
                "scale": 0.25,
                "origin": 1
            },
            "interactions": [
                {
                    "InteractionType": "Boolean_Action",
                    "name": "Power",
                    "inputData": {
                        "valueType": ["PrimitiveType", "Boolean"],
                        "unitOfMeasure": null,
                        "type": {
                            "True": "On",
                            "False": "Off"
                        }
                    },
                    "currentState": {
                        "visible": null,
                        "value": false
                    }
                }
            ],
            "visualState": [
                {
                    "default": true,
                    "image": "assets/images/shared_room/devices/wall1_mixer.png"
                }
            ]
        }
    ]
}
```

:::tip Device Organization
- Group related devices on the same wall when possible
- Consider realistic placement (e.g., kitchen appliances in kitchen areas)
- Ensure devices don't visually overlap or interfere with each other
:::

## Door Configuration

Doors enable navigation between different rooms in the smart home environment.

### Basic Door Structure

```json
{
    "image": "assets/images/shared_room/wall3.webp",
    "doors": [
        {
            "image": "assets/images/shared_room/doors/wall3_door.webp",
            "position": {
                "x": 425,
                "y": 100,
                "scale": 0.5
            },
            "destination": {
                "room": "bob_room",
                "wall": "wall1"
            }
        }
    ]
}
```

### Door Properties

- **`image`**: Visual representation of the door
- **`position`**: Placement and sizing of the door on the wall
  - `x`, `y`: Coordinates for door placement
  - `scale`: Size adjustment (e.g., 0.5 for half size)
- **`destination`**: Target location when door is used
  - `room`: Target room identifier
  - `wall`: Target wall identifier (wall1, wall2, wall3, wall4)

### Wall Numbering System

The wall numbering system for door destinations follows the array index:

- **wall1**: First wall in the room's walls array (index 0)
- **wall2**: Second wall in the room's walls array (index 1)
- **wall3**: Third wall in the room's walls array (index 2)
- **wall4**: Fourth wall in the room's walls array (index 3)

:::warning Door Destination Validation
Always ensure that:
- The target room exists in your configuration
- The target wall number corresponds to a valid wall in the destination room
- Door destinations create logical navigation paths between rooms
:::

## Complete Wall Examples

### Wall with Multiple Devices

```json
{
    "image": "assets/images/shared_room/wall1.webp",
    "default": true,
    "devices": [
        {
            "name": "Deep Fryer",
            "id": "deep_fryer",
            "image": "assets/images/shared_room/devices/wall1_deepfryer.webp",
            "position": {
                "x": 657,
                "y": 285,
                "scale": 1,
                "origin": 1
            },
            "interactions": [],
            "visualState": [
                {
                    "default": true,
                    "image": "assets/images/shared_room/devices/wall1_deepfryer.webp"
                }
            ]
        },
        {
            "name": "Cooker Hood",
            "id": "cooker_hood",
            "image": "assets/images/shared_room/devices/wall1_cookerhood.webp",
            "position": {
                "x": 659,
                "y": 222,
                "scale": 1,
                "origin": 1
            },
            "interactions": [],
            "visualState": [
                {
                    "default": true,
                    "image": "assets/images/shared_room/devices/wall1_cookerhood.webp"
                }
            ]
        }
    ]
}
```

### Wall with Door Navigation

```json
{
    "image": "assets/images/shared_room/wall4.webp",
    "doors": [
        {
            "image": "assets/images/shared_room/doors/wall4_door.webp",
            "position": {
                "x": 425,
                "y": 100,
                "scale": 0.5
            },
            "destination": {
                "room": "alice_room",
                "wall": "wall1"
            }
        }
    ]
}
```

### Simple Empty Wall

```json
{
    "image": "assets/images/shared_room/wall2.webp",
    "default": false
}
```

### Wall with Both Devices and Doors

```json
{
    "image": "assets/images/alice_room/wall1.webp",
    "default": false,
    "devices": [
        {
            "name": "Lamp",
            "id": "lamp",
            "image": "assets/images/alice_room/devices/wall1_lamp.webp",
            "position": {
                "x": 525,
                "y": 320,
                "scale": 1,
                "origin": 1
            },
            "interactions": [],
            "visualState": [
                {
                    "default": true,
                    "image": "assets/images/alice_room/devices/wall1_lamp.webp"
                }
            ]
        }
    ],
    "doors": [
        {
            "image": "assets/images/alice_room/doors/wall1_door.webp",
            "position": {
                "x": 0,
                "y": 45,
                "scale": 0.5
            },
            "destination": {
                "room": "shared_room",
                "wall": "wall1"
            }
        }
    ]
}
```